

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>setlyze.analysis.spot_preference — Analysis Spot Preference &mdash; SETLyze 0.3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="SETLyze 0.3 documentation" href="../../index.html" />
    <link rel="up" title="Analysis Modules" href="../../setlyze_modules_analysis.html" />
    <link rel="next" title="Testing and Optimization" href="../../testing_optimization.html" />
    <link rel="prev" title="setlyze.analysis.relations — Analysis Relations between Species" href="relations.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../testing_optimization.html" title="Testing and Optimization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="relations.html" title="setlyze.analysis.relations — Analysis Relations between Species"
             accesskey="P">previous</a> |</li>
    <li><a href="../../gimaris.html">GiMaRIS</a> &raquo;</li>
    
        <li><a href="../../index.html">SETLyze 0.3 documentation</a> &raquo;</li>

          <li><a href="../../developer_guide.html" >SETLyze Developer Guide</a> &raquo;</li>
          <li><a href="../../setlyze_modules.html" >SETLyze Standard Modules</a> &raquo;</li>
          <li><a href="../../setlyze_modules_analysis.html" accesskey="U">Analysis Modules</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="setlyze-analysis-spot-preference-analysis-spot-preference">
<h1><a class="reference internal" href="#module-setlyze.analysis.spot_preference" title="setlyze.analysis.spot_preference"><tt class="xref py py-mod docutils literal"><span class="pre">setlyze.analysis.spot_preference</span></tt></a> &#8212; Analysis Spot Preference<a class="headerlink" href="#setlyze-analysis-spot-preference-analysis-spot-preference" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Serrano Pereira, Jonathan den Boer, Adam van Adrichem, Fedde Schaeffer</td>
</tr>
<tr class="field-even field"><th class="field-name">Release:</th><td class="field-body">0.3</td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">March 22, 2013</td>
</tr>
</tbody>
</table>
<div class="section" id="module-setlyze.analysis.spot_preference">
<span id="module-contents"></span><h2>Module Contents<a class="headerlink" href="#module-setlyze.analysis.spot_preference" title="Permalink to this headline">¶</a></h2>
<p>This module performs analysis <em>Spot Preference</em>.</p>
<p>This analysis determines whether a marine species has a preference for a
specific area on SETL plates. By default, a SETL plate is divided in four plate
areas: A, B, C, and D.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>A</td>
</tr>
<tr class="row-even"><td>B</td>
<td>C</td>
<td>C</td>
<td>C</td>
<td>B</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>C</td>
<td>D</td>
<td>C</td>
<td>B</td>
</tr>
<tr class="row-even"><td>B</td>
<td>C</td>
<td>C</td>
<td>C</td>
<td>B</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>B</td>
<td>B</td>
<td>B</td>
<td>A</td>
</tr>
</tbody>
</table>
<p>Two statistical tests are performed:</p>
<ul class="simple">
<li>Chi-squared test for given probabilities</li>
<li>Wilcoxon rank sum test with continuity correction</li>
</ul>
<p>First the analysis is prepared with <a class="reference internal" href="#setlyze.analysis.spot_preference.Begin" title="setlyze.analysis.spot_preference.Begin"><tt class="xref py py-class docutils literal"><span class="pre">Begin</span></tt></a>, or with <a class="reference internal" href="#setlyze.analysis.spot_preference.BeginBatch" title="setlyze.analysis.spot_preference.BeginBatch"><tt class="xref py py-class docutils literal"><span class="pre">BeginBatch</span></tt></a>
in batch mode. Finally the analysis is performed with <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis" title="setlyze.analysis.spot_preference.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a>.</p>
<dl class="class">
<dt id="setlyze.analysis.spot_preference.Analysis">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.spot_preference.</tt><tt class="descname">Analysis</tt><big>(</big><em>locations</em>, <em>species</em>, <em>areas_definition</em>, <em>execute_queue=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the calculations for the analysis.</p>
<p>Argument <cite>locations</cite> is the locations selection, <cite>species</cite> is the species
selection, <cite>areas_definition</cite> the SETL plate areas definition, and
<cite>execute_queue</cite> is an optional <a class="reference internal" href="common.html#setlyze.analysis.common.ProcessGateway" title="setlyze.analysis.common.ProcessGateway"><tt class="xref py py-class docutils literal"><span class="pre">ProcessGateway</span></tt></a>
queue.</p>
<p>The analysis can be broken down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Calculate the observed species frequencies for the plate areas.</li>
<li>Check if all plate area frequencies are zero. If so, abort.</li>
<li>Calculate the expected species frequencies for the plate areas.</li>
<li>Perform the Wilcoxon rank sum tests with repeats.</li>
<li>Perform the Chi-squared test to calculate the significance in
difference between the observed and expected area totals.</li>
<li>Perform a single Wilcoxon rank sum tests.</li>
<li>Generate the analysis report.</li>
</ol>
</div></blockquote>
<p>Design Part: 1.3.2</p>
<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.calculate_significance_chisq">
<tt class="descname">calculate_significance_chisq</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.calculate_significance_chisq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.calculate_significance_chisq" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform statistical tests to check for significant differences.</p>
<p>The differences between the observed and expected positive spot numbers
are checked.</p>
<p>The Chi-squared test for given probabilities (<a class="reference internal" href="../../references.html#ref-millar"><em>Millar</em></a>,
<a class="reference internal" href="../../references.html#ref-dalgaard"><em>Dalgaard</em></a>) is used to calculate this significance.
The probabilities for the user defined plate areas are first calculated.
From these probabilities the expected positive spots numbers are
calculated by the Chi-squared test. The number of observed positive
spots are then compared to the expected number of positive spots. This
is done for all user defined plate areas.</p>
<p>For the Chi-squared test the expected frequencies should not be less
than 5 (<a class="reference internal" href="../../references.html#ref-buijs"><em>Buijs</em></a>). If we find an expected frequency
that is less than 5, the result for this test is not saved.</p>
<p>Based on the results of a test we can decide which hypothesis we can
assume to be true.</p>
<dl class="docutils">
<dt>Null hypothesis</dt>
<dd>The species in question does not have a preference or rejection
for the plate area in question.</dd>
<dt>Alternative hypothesis</dt>
<dd>The species in question has a preference for the plate area in
question (n observed &gt; n expected) or has a rejection for
the plate area in question (n observed &lt; n expected).</dd>
</dl>
<p>The decision is based on the p-value calculated by the test:</p>
<dl class="docutils">
<dt>P &gt;= alpha level</dt>
<dd>Assume that the null hypothesis is true.</dd>
<dt>P &lt; alpha level</dt>
<dd>Assume that the alternative hypothesis is true.</dd>
</dl>
<p>In contrast to the results of the Wilcoxon test, the results for this
test don&#8217;t show whether the species has a preference or a rejection
for a specific user defined plate area. This is because the design of
the Chi-squared test, which looks at the data of all plate areas
together. So it just tells you if the data shows significant
differences.</p>
<p>Design Part: 1.99</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.calculate_significance_wilcoxon">
<tt class="descname">calculate_significance_wilcoxon</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.calculate_significance_wilcoxon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.calculate_significance_wilcoxon" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform statistical tests to check for significant differences.</p>
<p>The differences between the observed and expected positive spot numbers
are checked.</p>
<p>The unpaired Wilcoxon rank sum test is used. We use unpaired because
the two sets of positive spots numbers are unrelated
(<a class="reference internal" href="../../references.html#ref-dalgaard"><em>Dalgaard</em></a>).</p>
<p>The test is performed on different data groups. Each data group
contains the positive spots numbers for a specific plate area or
a combination of plate areas. The user defined plate areas are not
used for this test, so the default plate areas A, B, C and D are used.
The groups are defined as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Plate area A</li>
<li>Plate area B</li>
<li>Plate area C</li>
<li>Plate area D</li>
<li>Plate area A+B</li>
<li>Plate area C+D</li>
<li>Plate area A+B+C</li>
<li>Plate area B+C+D</li>
</ol>
</div></blockquote>
<p>Based on the results of a test we can decide which hypothesis we can
assume to be true.</p>
<dl class="docutils">
<dt>Null hypothesis</dt>
<dd>The species in question does not have a preference or rejection
for the plate area in question.</dd>
<dt>Alternative hypothesis</dt>
<dd>The species in question has a preference for the plate area in
question (mean observed &gt; mean expected) or has a rejection for
the plate area in question (mean observed &lt; mean expected).</dd>
</dl>
<p>The decision is based on the p-value calculated by the test:</p>
<dl class="docutils">
<dt>P &gt;= alpha level</dt>
<dd>Assume that the null hypothesis is true.</dd>
<dt>P &lt; alpha level</dt>
<dd>Assume that the alternative hypothesis is true.</dd>
</dl>
<p>Combining the results of all plate area groups listed above should
allow you to draw a conclusion about the species&#8217; plate area preference.
For example, should a species have a strong preference for the corners
of a SETL-plate, then you would expect to find low p-values for group
1 (preference). But also low P-values for groups 3, 4, 6 and 8
because of rejection. If group 2 would not be significant, then group
7 wouldn&#8217;t be either, because areas A and C neutralize each other.</p>
<p>Design Part: 1.98</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.generate_report">
<tt class="descname">generate_report</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.generate_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.generate_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the analysis report.</p>
<p>Design Part: 1.13</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.get_area_probabilities">
<tt class="descname">get_area_probabilities</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.get_area_probabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.get_area_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probabilities for the defined plate areas.</p>
<p>It is assumed that each of the 25 plate surfaces on a SETL-plate
have a probability of 1/25.</p>
<p>Returns a dictionary; the keys are the unique names of the user
defined plate areas, and the values are the probabilities. The
probabilities are floats between 0 and 1.</p>
<p>Design Part: 1.101</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.get_defined_areas_totals_observed">
<tt class="descname">get_defined_areas_totals_observed</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.get_defined_areas_totals_observed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.get_defined_areas_totals_observed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of positive spots for each defined plate area.</p>
<p>The positive spots for the areas of all plates matching the species
selection are summed up.</p>
<p>Returns a dictionary where the keys are the unique names of the plate
areas, and the values are the number of positive spots.</p>
<p>Design Part: 1.64</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test">
<tt class="descname">repeat_wilcoxon_test</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.repeat_wilcoxon_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat the Wilcoxon rank sum test <cite>n</cite> times.</p>
<p>The significance test is performed by
<a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats" title="setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats"><tt class="xref py py-meth docutils literal"><span class="pre">wilcoxon_test_for_repeats()</span></tt></a>.</p>
<p>Each time before <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats" title="setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats"><tt class="xref py py-meth docutils literal"><span class="pre">wilcoxon_test_for_repeats()</span></tt></a> is
called, <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_expected" title="setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_expected"><tt class="xref py py-meth docutils literal"><span class="pre">set_plate_area_totals_expected()</span></tt></a> is called to
re-calculate the expected values (which are random).</p>
<p>Design Part: 1.65</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the analysis and return the analysis report.</p>
<p>Calls the necessary methods for the analysis in the right order
and do some data checks:</p>
<ul class="simple">
<li><a class="reference internal" href="../database.html#setlyze.database.AccessLocalDB.get_record_ids" title="setlyze.database.AccessLocalDB.get_record_ids"><tt class="xref py py-meth docutils literal"><span class="pre">get_record_ids()</span></tt></a> or
<tt class="xref py py-meth docutils literal"><span class="pre">get_record_ids()</span></tt></li>
<li><a class="reference internal" href="../database.html#setlyze.database.AccessLocalDB.set_species_spots" title="setlyze.database.AccessLocalDB.set_species_spots"><tt class="xref py py-meth docutils literal"><span class="pre">set_species_spots()</span></tt></a> or
<tt class="xref py py-meth docutils literal"><span class="pre">set_species_spots()</span></tt></li>
<li><a class="reference internal" href="../database.html#setlyze.database.AccessDBGeneric.make_plates_unique" title="setlyze.database.AccessDBGeneric.make_plates_unique"><tt class="xref py py-meth docutils literal"><span class="pre">make_plates_unique()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_observed" title="setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_observed"><tt class="xref py py-meth docutils literal"><span class="pre">set_plate_area_totals_observed()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.get_defined_areas_totals_observed" title="setlyze.analysis.spot_preference.Analysis.get_defined_areas_totals_observed"><tt class="xref py py-meth docutils literal"><span class="pre">get_defined_areas_totals_observed()</span></tt></a></li>
<li>Check if all plate area totals are zero. If so, abort.</li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test" title="setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test"><tt class="xref py py-meth docutils literal"><span class="pre">repeat_wilcoxon_test()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.calculate_significance_wilcoxon" title="setlyze.analysis.spot_preference.Analysis.calculate_significance_wilcoxon"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_significance_wilcoxon()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.calculate_significance_chisq" title="setlyze.analysis.spot_preference.Analysis.calculate_significance_chisq"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_significance_chisq()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.generate_report" title="setlyze.analysis.spot_preference.Analysis.generate_report"><tt class="xref py py-meth docutils literal"><span class="pre">generate_report()</span></tt></a></li>
</ul>
<p>Design Part: 1.58</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.set_areas_definition">
<tt class="descname">set_areas_definition</tt><big>(</big><em>definition</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.set_areas_definition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.set_areas_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the plate areas definition.</p>
<p>The plate areas definition <cite>definition</cite> is a definition as saved by
<a class="reference internal" href="../gui.html#setlyze.gui.DefinePlateAreas" title="setlyze.gui.DefinePlateAreas"><tt class="xref py py-class docutils literal"><span class="pre">setlyze.gui.DefinePlateAreas</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_expected">
<tt class="descname">set_plate_area_totals_expected</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.set_plate_area_totals_expected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_expected" title="Permalink to this definition">¶</a></dt>
<dd><p>Fills the &#8220;plate_area_totals_expected&#8221; table in the local database.</p>
<p>See <a class="reference internal" href="../../design_parts_data.html#design-part-data-2-42"><em>2.42</em></a>.</p>
<p>Design Part: 1.63</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_observed">
<tt class="descname">set_plate_area_totals_observed</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.set_plate_area_totals_observed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.set_plate_area_totals_observed" title="Permalink to this definition">¶</a></dt>
<dd><p>Fills the &#8220;plate_area_totals_observed&#8221; table in the local database.</p>
<p>See <a class="reference internal" href="../../design_parts_data.html#design-part-data-2-41"><em>2.41</em></a>.</p>
<p>Design Part: 1.62</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats">
<tt class="descname">wilcoxon_test_for_repeats</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Analysis.wilcoxon_test_for_repeats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Analysis.wilcoxon_test_for_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the Wilcoxon rank sum test for repeats.</p>
<p>This method does the same Wilcoxon test from <tt class="xref py py-meth docutils literal"><span class="pre">calculate_significance()</span></tt>,
but it is designed to be called repeatedly, saving the results
of the repeated test. This method doesn&#8217;t save the detailed
results of the Wilcoxon test, but just saves whether the p-value
was significant, and whether it was attraction or repulsion for the
different numbers of positive spots.</p>
<p>Repeation of the Wilcoxon test is necessary because the expected values
are calculated randomly. The test needs to be repeated many times if
you want to draw a solid conclusion from the test.</p>
<p>This method will be put in a loop by <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test" title="setlyze.analysis.spot_preference.Analysis.repeat_wilcoxon_test"><tt class="xref py py-meth docutils literal"><span class="pre">repeat_wilcoxon_test()</span></tt></a>.</p>
<p>Design Part: 1.100</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="setlyze.analysis.spot_preference.Begin">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.spot_preference.</tt><tt class="descname">Begin</tt><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the preparations for the analysis.</p>
<p>The preparations can be broken down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Show a list of all locations and let the user select from which
locations to select species.</li>
<li>Show a list of all species that match the locations selection and
let the user select a species on which to perform the analysis. If
multiple species are selected they are treated as a single species.</li>
<li>Show the Define Plate Areas dialog and let the user define the plate
areas for the Chi-squared test. All possible plate area combinations are
used for the Wilcoxon rank sum test.</li>
<li>Start the analysis with <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis" title="setlyze.analysis.spot_preference.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a>.</li>
<li>Display the results.</li>
</ol>
</div></blockquote>
<p>Design Part: 1.3.1</p>
<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_define_plate_areas">
<tt class="descname">on_define_plate_areas</tt><big>(</big><em>sender</em>, <em>species_selection</em>, <em>slot</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_define_plate_areas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_define_plate_areas" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the window for defining the plate areas.</p>
<p>The &#8220;species-selection-saved&#8221; signal provides the species selection
<cite>species_selection</cite> and the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_plate_areas_defined">
<tt class="descname">on_plate_areas_defined</tt><big>(</big><em>sender</em>, <em>definition</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_plate_areas_defined"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_plate_areas_defined" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the plate areas definitions <cite>definition</cite> and start the analysis.</p>
<p>The &#8220;plate-areas-defined&#8221; signal provides the plate areas definition
<cite>definition</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_repeat_analysis">
<tt class="descname">on_repeat_analysis</tt><big>(</big><em>sender</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_repeat_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_repeat_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat the analysis with modified options.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_select_locations">
<tt class="descname">on_select_locations</tt><big>(</big><em>sender</em>, <em>slot=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_select_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_select_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the locations selection dialog.</p>
<p>The &#8220;species-dialog-back&#8221; signal provides the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_select_species">
<tt class="descname">on_select_species</tt><big>(</big><em>sender</em>, <em>locations_selection=None</em>, <em>slot=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_select_species"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_select_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the species selection dialog.</p>
<p>The &#8220;locations-selection-saved&#8221; signal provides the locations selection
<cite>locations_selection</cite> and the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.on_start_analysis">
<tt class="descname">on_start_analysis</tt><big>(</big><em>locations</em>, <em>species</em>, <em>areas_definition</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.on_start_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.on_start_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the analysis.</p>
<p>Starts the analysis with the locations selection <cite>locations</cite>, the
species selection <cite>species</cite>, and the plate areas definition
<cite>areas_definition</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.Begin.set_signal_handlers">
<tt class="descname">set_signal_handlers</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#Begin.set_signal_handlers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.Begin.set_signal_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to signals emitted by the application.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="setlyze.analysis.spot_preference.BeginBatch">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.spot_preference.</tt><tt class="descname">BeginBatch</tt><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#BeginBatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.BeginBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the preparations for the analysis in batch mode.</p>
<p>This class inherits from <a class="reference internal" href="#setlyze.analysis.spot_preference.Begin" title="setlyze.analysis.spot_preference.Begin"><tt class="xref py py-class docutils literal"><span class="pre">Begin</span></tt></a>. The preparations can be broken
down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Show a list of all locations and let the user select from which locations
to select species.</li>
<li>Show a list of all species that match the locations selection and
let the user select a species on which to perform the analysis. If
multiple species are selected the analysis will be repeated for each
species.</li>
<li>Show the Define Plate Areas dialog and let the user define the plate areas
for the Chi-squared test. All possible plate area combinations are used
for the Wilcoxon rank sum test.</li>
<li>Repeat the analysis for each selected species with <a class="reference internal" href="#setlyze.analysis.spot_preference.Analysis" title="setlyze.analysis.spot_preference.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a>.</li>
<li>Obtain the results from all analyses and create a summary report.</li>
<li>Display the batch report.</li>
</ol>
</div></blockquote>
<dl class="method">
<dt id="setlyze.analysis.spot_preference.BeginBatch.on_display_results">
<tt class="descname">on_display_results</tt><big>(</big><em>sender</em>, <em>results=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#BeginBatch.on_display_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.BeginBatch.on_display_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a summary report and display it in a report dialog.</p>
<p>This method is used as a handler for the &#8220;pool-finished&#8221; signal.
The batch results <cite>results</cite> are attached to the signal.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.BeginBatch.on_start_analysis">
<tt class="descname">on_start_analysis</tt><big>(</big><em>locations</em>, <em>species</em>, <em>areas_definition</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#BeginBatch.on_start_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.BeginBatch.on_start_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the analysis for each of the selected species.</p>
<p>Creates a pool of worker processes. A job is set for each species that
was selected. The jobs are then added to the pool for execution. If
multiple workers were created, analyses will run in parallel. When
the results are ready, <a class="reference internal" href="common.html#setlyze.analysis.common.PrepareAnalysis.on_pool_finished" title="setlyze.analysis.common.PrepareAnalysis.on_pool_finished"><tt class="xref py py-meth docutils literal"><span class="pre">on_pool_finished()</span></tt></a>
is applied to it.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.spot_preference.BeginBatch.summarize_results">
<tt class="descname">summarize_results</tt><big>(</big><em>results</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/spot_preference.html#BeginBatch.summarize_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.spot_preference.BeginBatch.summarize_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a summary report from a list of analysis reports <cite>results</cite>.</p>
<p>Creates a dictionary in the following format</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;columns_over&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;Wilcoxon rank sum test&#39;</span><span class="p">,</span> <span class="s">&#39;Chi-sq&#39;</span><span class="p">),</span>
        <span class="s">&#39;columns_over_spans&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="s">&#39;columns&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;Species&#39;</span><span class="p">,</span> <span class="s">&#39;n (plates)&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;D&#39;</span><span class="p">,</span> <span class="s">&#39;A+B&#39;</span><span class="p">,</span> <span class="s">&#39;C+D&#39;</span><span class="p">,</span> <span class="s">&#39;A+B+C&#39;</span><span class="p">,</span> <span class="s">&#39;B+C+D&#39;</span><span class="p">,</span> <span class="s">&#39;A,B,C,D&#39;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s">&#39;results&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s">&#39;Obelia dichotoma&#39;</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">],</span>
        <span class="p">[</span><span class="s">&#39;Obelia geniculata&#39;</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">],</span>
        <span class="o">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/setlyze-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">setlyze.analysis.spot_preference</span></tt> &#8212; Analysis Spot Preference</a><ul>
<li><a class="reference internal" href="#module-setlyze.analysis.spot_preference">Module Contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="relations.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">setlyze.analysis.relations</span></tt> &#8212; Analysis Relations between Species</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../testing_optimization.html"
                        title="next chapter">Testing and Optimization</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/setlyze/analysis/spot_preference.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../testing_optimization.html" title="Testing and Optimization"
             >next</a> |</li>
        <li class="right" >
          <a href="relations.html" title="setlyze.analysis.relations — Analysis Relations between Species"
             >previous</a> |</li>
    <li><a href="../../gimaris.html">GiMaRIS</a> &raquo;</li>
    
        <li><a href="../../index.html">SETLyze 0.3 documentation</a> &raquo;</li>

          <li><a href="../../developer_guide.html" >SETLyze Developer Guide</a> &raquo;</li>
          <li><a href="../../setlyze_modules.html" >SETLyze Standard Modules</a> &raquo;</li>
          <li><a href="../../setlyze_modules_analysis.html" >Analysis Modules</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, 2011, GiMaRIS.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>