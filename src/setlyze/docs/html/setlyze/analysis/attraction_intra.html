

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>setlyze.analysis.attraction_intra — Analysis Attraction within Species &mdash; SETLyze 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="SETLyze 1.0 documentation" href="../../index.html" />
    <link rel="up" title="Analysis Modules" href="../../setlyze_modules_analysis.html" />
    <link rel="next" title="setlyze.analysis.batch — Batch mode" href="batch.html" />
    <link rel="prev" title="setlyze.analysis.attraction_inter — Analysis Attraction between Species" href="attraction_inter.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="batch.html" title="setlyze.analysis.batch — Batch mode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="attraction_inter.html" title="setlyze.analysis.attraction_inter — Analysis Attraction between Species"
             accesskey="P">previous</a> |</li>
    <li><a href="../../gimaris.html">GiMaRIS</a> &raquo;</li>
    
        <li><a href="../../index.html">SETLyze 1.0 documentation</a> &raquo;</li>

          <li><a href="../../developer_guide.html" >SETLyze Developer Guide</a> &raquo;</li>
          <li><a href="../../setlyze_modules.html" >SETLyze Standard Modules</a> &raquo;</li>
          <li><a href="../../setlyze_modules_analysis.html" accesskey="U">Analysis Modules</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="setlyze-analysis-attraction-intra-analysis-attraction-within-species">
<h1><a class="reference internal" href="#module-setlyze.analysis.attraction_intra" title="setlyze.analysis.attraction_intra"><tt class="xref py py-mod docutils literal"><span class="pre">setlyze.analysis.attraction_intra</span></tt></a> &#8212; Analysis Attraction within Species<a class="headerlink" href="#setlyze-analysis-attraction-intra-analysis-attraction-within-species" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Serrano Pereira, Adam van Adrichem, Fedde Schaeffer</td>
</tr>
<tr class="field-even field"><th class="field-name">Release:</th><td class="field-body">1.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">April 09, 2013</td>
</tr>
</tbody>
</table>
<div class="section" id="module-setlyze.analysis.attraction_intra">
<span id="module-contents"></span><h2>Module Contents<a class="headerlink" href="#module-setlyze.analysis.attraction_intra" title="Permalink to this headline">¶</a></h2>
<p>This module performs analysis <em>Attraction within Species</em>.</p>
<p>This analysis determines whether a marine species attracts or repels
individuals of its own kind.</p>
<p>Two statistical tests are performed:</p>
<ul class="simple">
<li>Chi-squared test for given probabilities</li>
<li>Wilcoxon rank sum test with continuity correction</li>
</ul>
<p>First the analysis is prepared with <a class="reference internal" href="#setlyze.analysis.attraction_intra.Begin" title="setlyze.analysis.attraction_intra.Begin"><tt class="xref py py-class docutils literal"><span class="pre">Begin</span></tt></a>, or with <a class="reference internal" href="#setlyze.analysis.attraction_intra.BeginBatch" title="setlyze.analysis.attraction_intra.BeginBatch"><tt class="xref py py-class docutils literal"><span class="pre">BeginBatch</span></tt></a>
in batch mode. Finally the analysis is performed with <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis" title="setlyze.analysis.attraction_intra.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a>.</p>
<dl class="class">
<dt id="setlyze.analysis.attraction_intra.Analysis">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.attraction_intra.</tt><tt class="descname">Analysis</tt><big>(</big><em>locations</em>, <em>species</em>, <em>execute_queue=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the calculations for the analysis.</p>
<p>Argument <cite>locations</cite> is the locations selection, <cite>species</cite> is the species
selection, and <cite>execute_queue</cite> is an optional
<a class="reference internal" href="common.html#setlyze.analysis.common.ProcessGateway" title="setlyze.analysis.common.ProcessGateway"><tt class="xref py py-class docutils literal"><span class="pre">ProcessGateway</span></tt></a> queue.</p>
<p>The analysis can be broken down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Get all SETL records that match the localities+species selection and
save these to a separate &#8220;species spots table&#8221; in the local database.</li>
<li>Merge records with the same plate ID in the species spots table to
make the plate IDs unique.</li>
<li>Calculate the intra specific spot distances from the records in the
species spots table.</li>
<li>Calculate expected intra-specific spot distances by generating
random spots.</li>
<li>Perform the Wilcoxon rank sum tests with repeats to calculate the
significance in difference between the observed and expected spot
distances.</li>
<li>Perform a single Wilcoxon rank sum tests.</li>
<li>Perform the Chi-squared test to calculate the significance in
difference between the observed and expected spot distances.</li>
<li>Generate the analysis report.</li>
</ol>
</div></blockquote>
<p>Design Part: 1.4.2</p>
<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra">
<tt class="descname">calculate_distances_intra</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.calculate_distances_intra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the intra specific spot distances.</p>
<p>This is done for each plate in the species_spots table and the
distances are saved to the spot_distances_observed table in the local
database.</p>
<p>Design Part: 1.22</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra_expected">
<tt class="descname">calculate_distances_intra_expected</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.calculate_distances_intra_expected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra_expected" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the expected spot distances.</p>
<p>This is based on the observed spot distances and they are saved to the
spot_distances_expected table in the local database.</p>
<p>Design Part: 1.23</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.calculate_significance">
<tt class="descname">calculate_significance</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.calculate_significance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.calculate_significance" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform statistical tests to check for significant differences.</p>
<p>The differences between the observed and expected spot distances are
checked.</p>
<p>We perform two statistical tests:</p>
<ol class="arabic">
<li><p class="first">The unpaired Wilcoxon rank sum test. We use unpaired because the two
sets of distances are unrelated (<a class="reference internal" href="../../references.html#ref-dalgaard"><em>Dalgaard</em></a>). In
other words, a distance n in &#8216;observed&#8217; is unrelated to distance n
in &#8216;expected&#8217; (where n is an item number in the lists).</p>
</li>
<li><p class="first">The Chi-squared test for given probabilities
(<a class="reference internal" href="../../references.html#ref-dalgaard"><em>Millar</em></a>, <a class="reference internal" href="../../references.html#ref-millar"><em>Dalgaard</em></a>). The
probabilities for all spot distances have been pre-calcualted. So
the observed probabilities are compared with the pre-calculated
probabilities.</p>
<p>For the Chi-squared test the expected frequencies should not be
less than 5 (<a class="reference internal" href="../../references.html#ref-buijs"><em>Buijs</em></a>). If we find an expected
frequency that is less than 5, the result for this test is not
saved.</p>
</li>
</ol>
<p>Based on the results of the tests we can decide which
hypothesis we can assume to be true.</p>
<dl class="docutils">
<dt>Null hypothesis</dt>
<dd>The species in question doesn&#8217;t attract or repel itself.</dd>
<dt>Alternative hypothesis</dt>
<dd>The species in question attracts (mean observed &lt; mean
expected) or repels (mean observed &gt; mean expected) itself.</dd>
</dl>
<p>The decision is based on the p-value calculated by the test:</p>
<dl class="docutils">
<dt>P &gt;= alpha level</dt>
<dd>Assume that the null hypothesis is true.</dd>
<dt>P &lt; alpha level</dt>
<dd>Assume that the alternative hypothesis is true.</dd>
</dl>
<p>The default value for the alpha level is 0.05 (5%). In biology
we usually assume that differences are significant if P has
a value less than 5% (<a class="reference internal" href="../../references.html#ref-dalgaard"><em>Millar</em></a>).</p>
<p>A high number of positive spots on a plate will naturally lead
to a high p-value (not significant). These plates will
negatively affect the result of statistical test. To account
for this, the tests are performed on groups of plates. Instead of
doing one test on all plates, we group the plates based on the
number of positive spots they contain.</p>
<p>Both tests are performed on each group. Plates of group 1 and 25
are not tested. We skip group 1 because it is not possible to
calculate spot distances for plates with just one positive spot.
Plates of group 25 are ignored because this will always result
in a p-value of 1 as a result of equal observed and expected
spot distances.</p>
<p>Both tests are also performed on groups 2-24 taken together.</p>
<p>Design Part: 1.24</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.generate_report">
<tt class="descname">generate_report</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.generate_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.generate_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the analysis report.</p>
<p>Design Part: 1.14</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test">
<tt class="descname">repeat_wilcoxon_test</tt><big>(</big><em>n</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.repeat_wilcoxon_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat the Wilcoxon rank sum test <cite>n</cite> times.</p>
<p>The significance test is performed by
<a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats" title="setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats"><tt class="xref py py-meth docutils literal"><span class="pre">wilcoxon_test_for_repeats()</span></tt></a>.</p>
<p>Each time before <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats" title="setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats"><tt class="xref py py-meth docutils literal"><span class="pre">wilcoxon_test_for_repeats()</span></tt></a> is called,
<a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra_expected" title="setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra_expected"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_distances_intra_expected()</span></tt></a> is called to re-calculate
the expected values (which are random).</p>
<p>Design Part: 1.103</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the analysis and return the analysis report.</p>
<p>Calls the necessary methods for the analysis in the right order
and do some data checks:</p>
<ul class="simple">
<li><a class="reference internal" href="../database.html#setlyze.database.AccessLocalDB.get_record_ids" title="setlyze.database.AccessLocalDB.get_record_ids"><tt class="xref py py-meth docutils literal"><span class="pre">get_record_ids()</span></tt></a> or
<tt class="xref py py-meth docutils literal"><span class="pre">get_record_ids()</span></tt></li>
<li><a class="reference internal" href="../database.html#setlyze.database.AccessLocalDB.set_species_spots" title="setlyze.database.AccessLocalDB.set_species_spots"><tt class="xref py py-meth docutils literal"><span class="pre">set_species_spots()</span></tt></a> or
<tt class="xref py py-meth docutils literal"><span class="pre">set_species_spots()</span></tt></li>
<li><a class="reference internal" href="../database.html#setlyze.database.AccessDBGeneric.make_plates_unique" title="setlyze.database.AccessDBGeneric.make_plates_unique"><tt class="xref py py-meth docutils literal"><span class="pre">make_plates_unique()</span></tt></a></li>
<li><a class="reference internal" href="../database.html#setlyze.database.AccessDBGeneric.fill_plate_spot_totals_table" title="setlyze.database.AccessDBGeneric.fill_plate_spot_totals_table"><tt class="xref py py-meth docutils literal"><span class="pre">fill_plate_spot_totals_table()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra" title="setlyze.analysis.attraction_intra.Analysis.calculate_distances_intra"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_distances_intra()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test" title="setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test"><tt class="xref py py-meth docutils literal"><span class="pre">repeat_wilcoxon_test()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.calculate_significance" title="setlyze.analysis.attraction_intra.Analysis.calculate_significance"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_significance()</span></tt></a></li>
<li><a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.generate_report" title="setlyze.analysis.attraction_intra.Analysis.generate_report"><tt class="xref py py-meth docutils literal"><span class="pre">generate_report()</span></tt></a></li>
</ul>
<p>Design Part: 1.59</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats">
<tt class="descname">wilcoxon_test_for_repeats</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Analysis.wilcoxon_test_for_repeats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Analysis.wilcoxon_test_for_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the Wilcoxon rank sum test for repeats.</p>
<p>This method does the same Wilcoxon test from <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.calculate_significance" title="setlyze.analysis.attraction_intra.Analysis.calculate_significance"><tt class="xref py py-meth docutils literal"><span class="pre">calculate_significance()</span></tt></a>,
but it is designed to be called repeatedly, saving the results
of the repeated test. This method doesn&#8217;t save the detailed
results of the Wilcoxon test, but just saves whether the p-value
was significant, and whether it was attraction or repulsion for the
different numbers of positive spots.</p>
<p>Repeation of the Wilcoxon test is necessary because the expected values
are calculated randomly. The test needs to be repeated many times if
you want to draw a solid conclusion from the test.</p>
<p>This method will be put in a loop by <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test" title="setlyze.analysis.attraction_intra.Analysis.repeat_wilcoxon_test"><tt class="xref py py-meth docutils literal"><span class="pre">repeat_wilcoxon_test()</span></tt></a>.</p>
<p>Design Part: 1.102</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="setlyze.analysis.attraction_intra.Begin">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.attraction_intra.</tt><tt class="descname">Begin</tt><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the preparations for the analysis.</p>
<p>The preparations can be broken down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Show a list of all locations and let the user select from which
locations to select species.</li>
<li>Show a list of all species that match the locations selection and
let the user select a species on which to perform the analysis. If
multiple species are selected they are treated as a single species.</li>
<li>Start the analysis with <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis" title="setlyze.analysis.attraction_intra.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a>.</li>
<li>Display the results.</li>
</ol>
</div></blockquote>
<p>Design Part: 1.4.1</p>
<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.on_repeat_analysis">
<tt class="descname">on_repeat_analysis</tt><big>(</big><em>sender</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.on_repeat_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.on_repeat_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat the analysis with modified options.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.on_select_locations">
<tt class="descname">on_select_locations</tt><big>(</big><em>sender</em>, <em>slot=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.on_select_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.on_select_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the locations selection dialog.</p>
<p>The &#8220;species-dialog-back&#8221; signal provides the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.on_select_species">
<tt class="descname">on_select_species</tt><big>(</big><em>sender</em>, <em>locations_selection=None</em>, <em>slot=None</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.on_select_species"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.on_select_species" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the species selection dialog.</p>
<p>The &#8220;locations-selection-saved&#8221; signal provides the locations selection
<cite>locations_selection</cite> and the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.on_species_selection_saved">
<tt class="descname">on_species_selection_saved</tt><big>(</big><em>sender</em>, <em>selection</em>, <em>slot</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.on_species_selection_saved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.on_species_selection_saved" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the species selection <cite>selection</cite> and start the analysis.</p>
<p>The &#8220;species-selection-saved&#8221; signal provides the species selection
<cite>species_selection</cite> and the save slot <cite>slot</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.on_start_analysis">
<tt class="descname">on_start_analysis</tt><big>(</big><em>locations</em>, <em>species</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.on_start_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.on_start_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the analysis.</p>
<p>Starts the analysis with the locations selection <cite>locations</cite> and the
species selection <cite>species</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.Begin.set_signal_handlers">
<tt class="descname">set_signal_handlers</tt><big>(</big><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#Begin.set_signal_handlers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.Begin.set_signal_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to signals emitted by the application.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="setlyze.analysis.attraction_intra.BeginBatch">
<em class="property">class </em><tt class="descclassname">setlyze.analysis.attraction_intra.</tt><tt class="descname">BeginBatch</tt><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#BeginBatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.BeginBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the preparations for the analysis in batch mode.</p>
<p>This class inherits from <a class="reference internal" href="#setlyze.analysis.attraction_intra.Begin" title="setlyze.analysis.attraction_intra.Begin"><tt class="xref py py-class docutils literal"><span class="pre">Begin</span></tt></a>. The preparations can be broken
down in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Show a list of all locations and let the user select from which
locations to select species.</li>
<li>Show a list of all species that match the locations selection and
let the user select a species on which to perform the analysis. If
multiple species are selected the analysis will be repeated for each
species.</li>
<li>Repeat the analysis with <a class="reference internal" href="#setlyze.analysis.attraction_intra.Analysis" title="setlyze.analysis.attraction_intra.Analysis"><tt class="xref py py-class docutils literal"><span class="pre">Analysis</span></tt></a> for each selected species.</li>
<li>Obtain the results from all analyses and create a summary report.</li>
<li>Display the batch report.</li>
</ol>
</div></blockquote>
<dl class="method">
<dt id="setlyze.analysis.attraction_intra.BeginBatch.on_display_results">
<tt class="descname">on_display_results</tt><big>(</big><em>sender</em>, <em>results=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#BeginBatch.on_display_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.BeginBatch.on_display_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a summary report and display it in a report dialog.</p>
<p>This method is used as a handler for the &#8220;pool-finished&#8221; signal.
The batch results <cite>results</cite> are attached to the signal.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.BeginBatch.on_start_analysis">
<tt class="descname">on_start_analysis</tt><big>(</big><em>locations</em>, <em>species</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#BeginBatch.on_start_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.BeginBatch.on_start_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the analysis for each of the selected species.</p>
<p>Starts the analysis with the locations selection <cite>locations</cite> and the
species selection <cite>species</cite>.</p>
<p>Creates a pool of worker processes. A job is set for each species that
was selected. The jobs are then added to the pool for execution. If
multiple workers were created, analyses will run in parallel. When
the results are ready, <a class="reference internal" href="common.html#setlyze.analysis.common.PrepareAnalysis.on_pool_finished" title="setlyze.analysis.common.PrepareAnalysis.on_pool_finished"><tt class="xref py py-meth docutils literal"><span class="pre">on_pool_finished()</span></tt></a>
is applied to it.</p>
</dd></dl>

<dl class="method">
<dt id="setlyze.analysis.attraction_intra.BeginBatch.summarize_results">
<tt class="descname">summarize_results</tt><big>(</big><em>results</em><big>)</big><a class="reference internal" href="../../_modules/setlyze/analysis/attraction_intra.html#BeginBatch.summarize_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#setlyze.analysis.attraction_intra.BeginBatch.summarize_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a summary report from a list of analysis reports <cite>results</cite>.</p>
<p>Creates a dictionary in the following format</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;attr&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;columns_over&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;Wilcoxon rank sum test&#39;</span><span class="p">,</span> <span class="s">&#39;Chi-squared test&#39;</span><span class="p">),</span>
        <span class="s">&#39;columns_over_spans&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
        <span class="s">&#39;columns&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s">&#39;Species&#39;</span><span class="p">,</span> <span class="s">&#39;n (plates)&#39;</span><span class="p">,</span> <span class="s">&#39;Wilcoxon 2-24&#39;</span><span class="p">,</span> <span class="s">&#39;2&#39;</span><span class="p">,</span> <span class="s">&#39;3&#39;</span><span class="p">,</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;5&#39;</span><span class="p">,</span> <span class="s">&#39;6&#39;</span><span class="p">,</span> <span class="s">&#39;7&#39;</span><span class="p">,</span> <span class="s">&#39;8&#39;</span><span class="p">,</span> <span class="s">&#39;9&#39;</span><span class="p">,</span> <span class="s">&#39;10&#39;</span><span class="p">,</span> <span class="s">&#39;11&#39;</span><span class="p">,</span> <span class="s">&#39;12&#39;</span><span class="p">,</span> <span class="s">&#39;13&#39;</span><span class="p">,</span> <span class="s">&#39;14&#39;</span><span class="p">,</span> <span class="s">&#39;15&#39;</span><span class="p">,</span> <span class="s">&#39;16&#39;</span><span class="p">,</span> <span class="s">&#39;17&#39;</span><span class="p">,</span> <span class="s">&#39;18&#39;</span><span class="p">,</span> <span class="s">&#39;19&#39;</span><span class="p">,</span> <span class="s">&#39;20&#39;</span><span class="p">,</span> <span class="s">&#39;21&#39;</span><span class="p">,</span> <span class="s">&#39;22&#39;</span><span class="p">,</span> <span class="s">&#39;23&#39;</span><span class="p">,</span> <span class="s">&#39;24&#39;</span><span class="p">,</span> <span class="s">&#39;Chi sq 2-24&#39;</span><span class="p">,</span> <span class="s">&#39;2&#39;</span><span class="p">,</span> <span class="s">&#39;3&#39;</span><span class="p">,</span> <span class="s">&#39;4&#39;</span><span class="p">,</span> <span class="s">&#39;5&#39;</span><span class="p">,</span> <span class="s">&#39;6&#39;</span><span class="p">,</span> <span class="s">&#39;7&#39;</span><span class="p">,</span> <span class="s">&#39;8&#39;</span><span class="p">,</span> <span class="s">&#39;9&#39;</span><span class="p">,</span> <span class="s">&#39;10&#39;</span><span class="p">,</span> <span class="s">&#39;11&#39;</span><span class="p">,</span> <span class="s">&#39;12&#39;</span><span class="p">,</span> <span class="s">&#39;13&#39;</span><span class="p">,</span> <span class="s">&#39;14&#39;</span><span class="p">,</span> <span class="s">&#39;15&#39;</span><span class="p">,</span> <span class="s">&#39;16&#39;</span><span class="p">,</span> <span class="s">&#39;17&#39;</span><span class="p">,</span> <span class="s">&#39;18&#39;</span><span class="p">,</span> <span class="s">&#39;19&#39;</span><span class="p">,</span> <span class="s">&#39;20&#39;</span><span class="p">,</span> <span class="s">&#39;21&#39;</span><span class="p">,</span> <span class="s">&#39;22&#39;</span><span class="p">,</span> <span class="s">&#39;23&#39;</span><span class="p">,</span> <span class="s">&#39;24&#39;</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="s">&#39;results&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s">&#39;Obelia dichotoma&#39;</span><span class="p">,</span> <span class="mi">143</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">],</span>
        <span class="p">[</span><span class="s">&#39;Obelia geniculata&#39;</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">],</span>
        <span class="o">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/setlyze-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">setlyze.analysis.attraction_intra</span></tt> &#8212; Analysis Attraction within Species</a><ul>
<li><a class="reference internal" href="#module-setlyze.analysis.attraction_intra">Module Contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="attraction_inter.html"
                        title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">setlyze.analysis.attraction_inter</span></tt> &#8212; Analysis Attraction between Species</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="batch.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">setlyze.analysis.batch</span></tt> &#8212; Batch mode</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/setlyze/analysis/attraction_intra.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="batch.html" title="setlyze.analysis.batch — Batch mode"
             >next</a> |</li>
        <li class="right" >
          <a href="attraction_inter.html" title="setlyze.analysis.attraction_inter — Analysis Attraction between Species"
             >previous</a> |</li>
    <li><a href="../../gimaris.html">GiMaRIS</a> &raquo;</li>
    
        <li><a href="../../index.html">SETLyze 1.0 documentation</a> &raquo;</li>

          <li><a href="../../developer_guide.html" >SETLyze Developer Guide</a> &raquo;</li>
          <li><a href="../../setlyze_modules.html" >SETLyze Standard Modules</a> &raquo;</li>
          <li><a href="../../setlyze_modules_analysis.html" >Analysis Modules</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, 2011, GiMaRIS.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>